[Global]
auth-url = {{ lookup('env', 'OS_AUTH_URL') }}
username = {{ lookup('env', 'OS_USERNAME') }}
password = {{ lookup('env', 'OS_PASSWORD') }}
tenant-name = {{ lookup('env', 'OS_PROJECT_NAME') }}
tenant-id = {{ lookup('env', 'OS_PROJECT_ID') }}
{% if lookup('env', 'OS_REGION_NAME') != '' %}
region = {{ lookup('env', 'OS_REGION_NAME') }}
{% endif %}
{% if lookup('env', 'OS_DOMAIN_NAME') != '' %}
domain-name = {{ lookup('env', 'OS_DOMAIN_NAME') }}
{% endif %}

[BlockStorage]
trust-device-path = false

{% if lookup('env', 'FLOATING_IP_NETWORK_UUID') != '' %}
[LoadBalancer]
lb-version = v2
floating-network-id = {{ lookup('env', 'FLOATING_IP_NETWORK_UUID') }}
subnet-id = {{ lookup('env', 'SUBNET_UUID') }}
create-monitor = yes
monitor-delay = 1m
monitor-timeout = 30s
monitor-max-retries = 3
{% endif %}
